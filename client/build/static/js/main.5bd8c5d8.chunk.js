(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{23:function(t,e,n){},24:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var r=n(2),a=n.n(r),c=n(18),i=n.n(c),s=(n(23),n(24),n(4)),o=n(1),u=n(5),d=n(0),j=function(t){t.id;var e=Object(r.useState)({name:"",description:"",tags:""}),n=Object(u.a)(e,2),a=n[0],c=n[1],i=function(t){var e=t.target,n=e.name,r=e.value;c(Object(o.a)(Object(o.a)({},a),{},Object(s.a)({},n,r)))};return Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",name:"name",placeholder:"TagName","data-testid":"filter-name",value:a.name,onChange:i}),Object(d.jsx)("input",{type:"text",name:"description",placeholder:"Tag Description","data-testid":"filter-description",value:a.description,onChange:i}),Object(d.jsx)("input",{type:"text",name:"tags",placeholder:"Tag1, Tag2","data-testid":"filter-tags",value:a.tags,onChange:i})]})},l=function(t){var e=t.filters,n=Object.keys(e);return Object(d.jsx)("div",{children:n.map((function(t){return Object(d.jsx)(j,{id:parseInt(t)},t)}))})},p=function(t){var e=t.todo;return Object(d.jsxs)("div",{children:[Object(d.jsx)("div",{children:e.todo_id}),Object(d.jsx)("div",{children:e.name}),Object(d.jsx)("div",{children:e.description})]})},b=n(6),O=n.n(b),f=n(7),h=n(8),g=n.n(h),x={test:function(){var t=Object(f.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/_");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getAllTodos:function(){var t=Object(f.a)(O.a.mark((function t(){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/_todos");case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),getFilterTodos:function(){var t=Object(f.a)(O.a.mark((function t(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.get("/_todos",{params:Object(o.a)({},e)});case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),postNewTodo:function(){var t=Object(f.a)(O.a.mark((function t(e){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.post("/_todos",e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},v=function(t,e,n){var a=Object(r.useState)([]),c=Object(u.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(!0),d=Object(u.a)(o,2),j=d[0],l=d[1];return Object(r.useEffect)((function(){x.getFilterTodos({name:t,description:e,tags:n}).then((function(t){console.log(t),s(t.data.rows)})).catch((function(t){return console.log(t)})).finally((function(){return l(!1)}))}),[t,e,n]),{todos:i,isLoading:j}},m=function(t){var e=t.filter,n=v(e.name,e.description,e.tags),r=n.todos;n.isLoading;return Object(d.jsx)("div",{className:"todos-container",children:r.map((function(t,e){return Object(d.jsx)(p,{todo:t},t.todo_id)}))})},y=function(){var t=Object(r.useState)({name:"",description:"",tags:""}),e=Object(u.a)(t,2),n=e[0],a=e[1],c=function(t){var e=t.currentTarget,r=e.name,c=e.value;a(Object(o.a)(Object(o.a)({},n),{},Object(s.a)({},r,c)))};return Object(d.jsx)("div",{children:Object(d.jsxs)("form",{children:[Object(d.jsx)("label",{htmlFor:"todo-name-input",children:"Name:"}),Object(d.jsx)("input",{onChange:c,name:"name",value:n.name,type:"text",id:"todo-name-input"}),Object(d.jsx)("label",{htmlFor:"todo-description-input",children:"Description:"}),Object(d.jsx)("input",{onChange:c,name:"description",value:n.description,type:"text",id:"todo-description-input"}),Object(d.jsx)("label",{htmlFor:"todo-tags-input",children:"Tags:"}),Object(d.jsx)("input",{onChange:c,name:"tags",value:n.tags.toString(),type:"text",id:"todo-tags-input"}),Object(d.jsx)("button",{onClick:function(t){t.preventDefault();var e=n.tags.replace(" ","").split(","),r=Object(o.a)(Object(o.a)({},n),{},{tags:e});console.log(r),x.postNewTodo(r).then((function(t){return console.log(t)})).catch((function(t){return console.log(t)}))},children:"Submit Todo"})]})})},T=function(t,e){switch(e.type){case"ADD_FILTER":var n=Object.keys(t.filters).length,r={id:n,name:"",description:"",tags:[]};return Object(o.a)(Object(o.a)({},t),{},{filters:Object(o.a)(Object(o.a)({},t.filters),{},Object(s.a)({},n,r))});case"EDIT_FILTER":return Object(o.a)(Object(o.a)({},t),{},{filters:Object(o.a)(Object(o.a)({},t.filters),{},Object(s.a)({},e.payload.id,e.payload))});case"REMOVE_FILTER":var a=t.filters;return delete a[e.payload],Object(o.a)(Object(o.a)({},t),{},{filters:a});default:return t}},w={filters:{0:{id:0,name:"",description:"",tags:[]}}},C=Object(r.createContext)({state:w,dispatch:function(){}}),F=C.Provider,k=function(t){var e=t.children,n=Object(r.useReducer)(T,w),a=Object(u.a)(n,2),c=a[0],i=a[1];return Object(d.jsx)(F,{value:{state:c,dispatch:i},children:e})},_=function(){var t=Object(r.useContext)(C).state.filters,e=Object.keys(t);return Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(y,{}),Object(d.jsx)(l,{filters:t}),e.map((function(e){return Object(d.jsx)(m,{filter:t[parseInt(e)]},e)}))]})},E=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,46)).then((function(e){var n=e.getCLS,r=e.getFID,a=e.getFCP,c=e.getLCP,i=e.getTTFB;n(t),r(t),a(t),c(t),i(t)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(k,{children:Object(d.jsx)(_,{})})}),document.getElementById("root")),E()}},[[45,1,2]]]);
//# sourceMappingURL=main.5bd8c5d8.chunk.js.map